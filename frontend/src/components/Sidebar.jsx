// src/components/Sidebar.jsx

import { useState } from "react";
import { useNavigate } from "react-router-dom";
import styles from "../styles/Sidebar.module.css";
import { GoHome } from "react-icons/go";
import { PiChatTextLight } from "react-icons/pi";
import { HiOutlineChartBar } from "react-icons/hi2";
import { RiTeamFill } from "react-icons/ri";
import { IoSettingsOutline } from "react-icons/io5";
import { CgProfile } from "react-icons/cg";

const Sidebar = () => {
  const navigate = useNavigate();
  const [activeMenu, setActiveMenu] = useState("dashboard");

  return (
    <aside className={styles.sidebar}>
      {/* Logo */}
      <div className={styles.logoBox}>
        <svg
          width="45"
          height="34"
          viewBox="0 0 45 34"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M23.9063 2.80573C21.5391 2.80456 19.2319 3.5501 17.313 4.93622C15.3942 6.32235 13.9614 
                8.27842 13.2188 10.526C13.1663 10.7078 13.0778 10.8771 12.9584 11.0238C12.8391 11.1705 12.6913 
                11.2917 12.5241 11.38C12.3568 11.4683 12.1734 11.5219 11.9849 11.5377C11.7965 11.5535 11.6067 
                11.5311 11.4271 11.4719C11.2475 11.4126 11.0816 11.3178 10.9395 11.1929C10.7974 11.0681 10.6819 
                10.9159 10.6 10.7454C10.5181 10.5749 10.4714 10.3896 10.4628 10.2007C10.4541 10.0117 10.4837 9.82299 
                10.5497 9.64573C11.5259 6.69767 13.4502 4.15548 16.0225 2.41552C18.5947 0.67556 21.6704 -0.164383 24.77 
                0.0266538C27.8697 0.21769 30.8189 1.42897 33.1581 3.47163C35.4972 5.5143 37.0947 8.27354 37.7016 11.3192C39.8229 
                11.6057 41.7561 12.6878 43.1094 14.3464C44.4628 16.0049 45.1351 18.1158 44.9903 20.2515C44.8455 22.3872 43.8943 
                24.3881 42.3295 25.8487C40.7647 27.3094 38.7031 28.1207 36.5625 28.1182H12.6563C12.2833 28.1182 11.9256 27.9701 
                11.6619 27.7063C11.3982 27.4426 11.25 27.0849 11.25 26.712C11.25 26.339 11.3982 25.9813 11.6619 25.7176C11.9256 
                25.4539 12.2833 25.3057 12.6563 25.3057H36.5625C38.0543 25.3061 39.4852 24.7138 40.5404 23.6592C41.5955 22.6046 
                42.1885 21.174 42.1889 19.6821C42.1893 18.1903 41.597 16.7594 40.5424 15.7042C39.4878 14.6491 38.0572 14.0561 
                36.5653 14.0557H36.4922C36.1445 14.0578 35.8084 13.9311 35.5487 13.7C35.2891 13.4688 35.1242 13.1497 35.0859 
                12.8042C34.7781 10.0544 33.4678 7.5146 31.4054 5.67011C29.343 3.82562 26.6731 2.80585 23.9063 2.80573ZM0 
                15.462C0 15.089 0.148158 14.7313 0.411881 14.4676C0.675604 14.2039 1.03329 14.0557 1.40625 14.0557H15.4688C15.8417 
                14.0557 16.1994 14.2039 16.4631 14.4676C16.7268 14.7313 16.875 15.089 16.875 15.462C16.875 15.8349 16.7268 16.1926 
                16.4631 16.4563C16.1994 16.7201 15.8417 16.8682 15.4688 16.8682H1.40625C1.03329 16.8682 0.675604 16.7201 0.411881 
                16.4563C0.148158 16.1926 0 15.8349 0 15.462ZM5.625 21.087C5.625 20.714 5.77316 20.3563 6.03688 20.0926C6.3006 19.8289 
                6.65829 19.6807 7.03125 19.6807H32.3438C32.7167 19.6807 33.0744 19.8289 33.3381 20.0926C33.6018 20.3563 33.75 20.714 
                33.75 21.087C33.75 21.4599 33.6018 21.8176 33.3381 22.0813C33.0744 22.3451 32.7167 22.4932 32.3438 22.4932H7.03125C6.65829 
                22.4932 6.3006 22.3451 6.03688 22.0813C5.77316 21.8176 5.625 21.4599 5.625 21.087ZM0 32.337C0 31.964 0.148158 31.6063 0.411881 
                31.3426C0.675604 31.0789 1.03329 30.9307 1.40625 30.9307H26.7188C27.0917 30.9307 27.4494 31.0789 27.7131 31.3426C27.9768 31.6063 
                28.125 31.964 28.125 32.337C28.125 32.7099 27.9768 33.0676 27.7131 33.3313C27.4494 33.5951 27.0917 33.7432 26.7188 33.7432H1.40625C1.03329 
                33.7432 0.675604 33.5951 0.411881 33.3313C0.148158 33.0676 0 32.7099 0 32.337Z"
            fill="#184E7F"
          />
        </svg>
      </div>

      {/* Navigation */}
      <nav className={styles.nav}>
        <button
          className={`${styles.navItem} ${
            activeMenu === "dashboard" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            setActiveMenu("dashboard");
            navigate("/dashboard");
          }}
        >
          <GoHome size={20} />
          {activeMenu === "dashboard" && (
            <span className={styles.navLabel}>Dashboard</span>
          )}
        </button>

        <button
          className={`${styles.navItem} ${
            activeMenu === "contact" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            setActiveMenu("contact");
            navigate("/ContactCenter");
          }}
        >
          <PiChatTextLight size={20} />
          {activeMenu === "contact" && (
            <span className={styles.navLabel}>Contact Center</span>
          )}
        </button>

        <button
          className={`${styles.navItem} ${
            activeMenu === "analytics" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            setActiveMenu("analytics");
            navigate("/analytics");
          }}
        >
          <HiOutlineChartBar size={20} />
          {activeMenu === "analytics" && (
            <span className={styles.navLabel}>Analytics</span>
          )}
        </button>

        <button
          className={`${styles.navItem} ${
            activeMenu === "chatbot" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            {
              setActiveMenu("chatbot");
              navigate("/chatbot");
            }
          }}
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.625 1.875C10.625 1.70924 10.5592 1.55027 10.4419 1.43306C10.3247 1.31585 10.1658 1.25 10 1.25C9.83424 1.25 9.67527 1.31585 9.55806 1.43306C9.44085 1.55027 9.375 1.70924 9.375 1.875V2.5H6.875C6.37772 2.5 5.90081 2.69754 5.54917 3.04917C5.19754 3.40081 5 3.87772 5 4.375V8.125C5 8.62228 5.19754 9.09919 5.54917 9.45083C5.90081 9.80246 6.37772 10 6.875 10H13.125C13.6223 10 14.0992 9.80246 14.4508 9.45083C14.8025 9.09919 15 8.62228 15 8.125V4.375C15 3.87772 14.8025 3.40081 14.4508 3.04917C14.0992 2.69754 13.6223 2.5 13.125 2.5H10.625V1.875ZM6.25 4.375C6.25 4.20924 6.31585 4.05027 6.43306 3.93306C6.55027 3.81585 6.70924 3.75 6.875 3.75H13.125C13.2908 3.75 13.4497 3.81585 13.5669 3.93306C13.6842 4.05027 13.75 4.20924 13.75 4.375V8.125C13.75 8.29076 13.6842 8.44973 13.5669 8.56694C13.4497 8.68415 13.2908 8.75 13.125 8.75H6.875C6.70924 8.75 6.55027 8.68415 6.43306 8.56694C6.31585 8.44973 6.25 8.29076 6.25 8.125V4.375ZM5 13.75C5 13.5842 5.06585 13.4253 5.18306 13.3081C5.30027 13.1908 5.45924 13.125 5.625 13.125H14.375C14.5408 13.125 14.6997 13.1908 14.8169 13.3081C14.9342 13.4253 15 13.5842 15 13.75V14.1875C15 15.3713 14.4925 16.1575 13.6538 16.68C12.7775 17.2262 11.5037 17.5 10 17.5C8.50625 17.5 7.2325 17.2275 6.3525 16.68C5.51 16.1562 5 15.3688 5 14.1875V13.75ZM5.625 11.875C5.12772 11.875 4.65081 12.0725 4.29917 12.4242C3.94754 12.7758 3.75 13.2527 3.75 13.75V14.1875C3.75 15.8188 4.5 17 5.6925 17.7412C6.84875 18.46 8.3875 18.75 10 18.75C11.6213 18.75 13.16 18.4613 14.315 17.7412C15.5075 17 16.25 15.8163 16.25 14.1875V13.75C16.25 13.2527 16.0525 12.7758 15.7008 12.4242C15.3492 12.0725 14.8723 11.875 14.375 11.875H5.625ZM9.0625 6.25C9.0625 6.49864 8.96373 6.7371 8.78791 6.91291C8.6121 7.08873 8.37364 7.1875 8.125 7.1875C7.87636 7.1875 7.6379 7.08873 7.46209 6.91291C7.28627 6.7371 7.1875 6.49864 7.1875 6.25C7.1875 6.00136 7.28627 5.7629 7.46209 5.58709C7.6379 5.41127 7.87636 5.3125 8.125 5.3125C8.37364 5.3125 8.6121 5.41127 8.78791 5.58709C8.96373 5.7629 9.0625 6.00136 9.0625 6.25ZM11.875 7.1875C12.1236 7.1875 12.3621 7.08873 12.5379 6.91291C12.7137 6.7371 12.8125 6.49864 12.8125 6.25C12.8125 6.00136 12.7137 5.7629 12.5379 5.58709C12.3621 5.41127 12.1236 5.3125 11.875 5.3125C11.6264 5.3125 11.3879 5.41127 11.2121 5.58709C11.0363 5.7629 10.9375 6.00136 10.9375 6.25C10.9375 6.49864 11.0363 6.7371 11.2121 6.91291C11.3879 7.08873 11.6264 7.1875 11.875 7.1875Z"
              fill="#424242"
            />
          </svg>

          {activeMenu === "chatbot" && (
            <span className={styles.navLabel}>Chat Bot</span>
          )}
        </button>

        <button
          className={`${styles.navItem} ${
            activeMenu === "team" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            setActiveMenu("team");
            navigate("/TeamPage");
          }}
        >
          <RiTeamFill size={20} />
          {activeMenu === "team" && (
            <span className={styles.navLabel}>Team</span>
          )}
        </button>

        <button
          className={`${styles.navItem} ${
            activeMenu === "settings" ? styles.navItemActive : ""
          }`}
          onClick={() => {
            setActiveMenu("settings");
            navigate("/Settings");
          }}
        >
          <IoSettingsOutline size={20} />
          {activeMenu === "settings" && (
            <span className={styles.navLabel}>Setting</span>
          )}
        </button>
      </nav>

      {/* Bottom Profile */}
      <div className={styles.profile}>
        <CgProfile size={30} color="#B1B1B1" />
      </div>
      <span className={styles.onlineDot} />
    </aside>
  );
};

export default Sidebar;
